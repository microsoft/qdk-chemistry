

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>High-level design &mdash; qdk-chemistry 1.0.0-rc1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=9edc463e" />
      <link rel="stylesheet" type="text/css" href="../../../_static/tabs.css?v=4c969af8" />
      <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css?v=4ae1632d" />
      <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../../_static/custom.css?v=06674eb4" />

  
      <script src="../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../../_static/documentation_options.js?v=81bd8d55"></script>
      <script src="../../../_static/doctools.js?v=fd6eb6e6"></script>
      <script src="../../../_static/sphinx_highlight.js?v=6ffebe34"></script>
      <script src="../../../_static/tabs.js?v=3ee01567"></script>
      <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Data classes" href="../data/index.html" />
    <link rel="prev" title="In-depth user guide" href="../index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            qdk-chemistry
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">User Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../features.html">Features, methods and dependencies</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">In-depth user guide</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">High-level design</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#separation-of-data-and-algorithms">Separation of Data and Algorithms</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#data-classes">Data classes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#algorithm-classes">Algorithm classes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#factory-pattern">Factory pattern</a></li>
<li class="toctree-l3"><a class="reference internal" href="#runtime-configuration-with-settings">Runtime configuration with settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="#a-complete-dataflow-example">A complete dataflow example</a></li>
<li class="toctree-l3"><a class="reference internal" href="#further-reading">Further reading</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../data/index.html">Data classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../algorithms/index.html">Algorithm classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../basis_functionals.html">Available functionals and basis sets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../model_hamiltonians.html">Model Hamiltonians</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plugins.html">Plugins</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../api/python_api.html">Python API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api/cpp_api.html">C++ API</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Supporting Information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary.html">Acronym definitions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../references.html">References</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">qdk-chemistry</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">In-depth user guide</a></li>
      <li class="breadcrumb-item active">High-level design</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/user/comprehensive/design/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="high-level-design">
<h1>High-level design<a class="headerlink" href="#high-level-design" title="Link to this heading"></a></h1>
<p>This document outlines the core architectural design principles of QDK/Chemistry, explaining the conceptual framework that guides the library’s organization and implementation.
For a complete overview of QDK/Chemistry’s documentation, see the <a class="reference internal" href="../index.html"><span class="doc">in-depth documentation index</span></a>.</p>
<p>QDK/Chemistry is designed with a clear separation between <strong>data classes</strong> and <strong>algorithms</strong>.
This design choice enables flexibility, extensibility, and maintainability of the codebase, while providing users with a consistent and intuitive API.</p>
<section id="separation-of-data-and-algorithms">
<h2>Separation of Data and Algorithms<a class="headerlink" href="#separation-of-data-and-algorithms" title="Link to this heading"></a></h2>
<p>QDK/Chemistry follows a design pattern that strictly separates:</p>
<ol class="arabic simple">
<li><p><strong>Data Classes</strong>: Immutable containers that store and manage quantum chemical data</p></li>
<li><p><strong>Algorithm Classes</strong>: Processors that operate on data objects to produce new data objects</p></li>
</ol>
<p>This separation follows the principle of single responsibility and creates a clear flow of data through computational workflows.</p>
<div class="graphviz"><img src="../../../_images/graphviz-81cb93437fff91546debeb5cb5e3d380016e084e.png" alt="digraph DataFlow {
    rankdir=LR;
    bgcolor=&quot;#FAFAFA&quot;;
    node [shape=box, style=&quot;rounded,filled&quot;, fontname=&quot;Arial&quot;, margin=0.3];
    edge [color=&quot;#1976D2&quot;, penwidth=2];

    Input [label=&quot;Input Data&quot;, fillcolor=&quot;#E8EAF6&quot;, color=&quot;#5C6BC0&quot;, penwidth=2, fontcolor=&quot;#3949AB&quot;];
    Algorithm [label=&quot;Algorithm&quot;, fillcolor=&quot;#E3F2FD&quot;, color=&quot;#42A5F5&quot;, penwidth=2, fontcolor=&quot;#1976D2&quot;];
    Output [label=&quot;Output Data&quot;, fillcolor=&quot;#E0F2F1&quot;, color=&quot;#26A69A&quot;, penwidth=2, fontcolor=&quot;#00796B&quot;];

    Input -&gt; Algorithm;
    Algorithm -&gt; Output;
}" class="graphviz" /></div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<section id="data-classes">
<span id="hl-data-class"></span><h3>Data classes<a class="headerlink" href="#data-classes" title="Link to this heading"></a></h3>
<p>Data classes in QDK/Chemistry concretely represent intermediate quantities commonly encountered in quantum applications workflows. These classes are designed to be:</p>
<dl class="simple">
<dt>Immutable</dt><dd><p>Once created, the core data cannot be modified</p>
</dd>
<dt>Self-contained</dt><dd><p>Include all information necessary to represent the underlying quantum chemical quantity</p>
</dd>
<dt><a class="reference internal" href="../data/serialization.html"><span class="doc">Serializable</span></a></dt><dd><p>Can be easily saved to and loaded from files</p>
</dd>
<dt>Language-agnostic</dt><dd><p>Accessible through identical APIs in both C++ and Python</p>
</dd>
</dl>
<p>See the <a class="reference internal" href="../data/index.html"><span class="doc">Data Classes</span></a> documentation for further details on the availability and usage of QDK/Chemistry’s data classes.</p>
</section>
<section id="algorithm-classes">
<span id="hl-algorithm-class"></span><h3>Algorithm classes<a class="headerlink" href="#algorithm-classes" title="Link to this heading"></a></h3>
<p>Algorithm classes represent mutations on data, such as the execution of quantum chemical methods and generation of circuit components commonly found in quantum applications workflows.
These classes are designed to be:</p>
<dl class="simple">
<dt>Stateless</dt><dd><p>Their behavior depends only on their input data and configuration</p>
</dd>
<dt>Configurable</dt><dd><p>Through a standardized <code class="docutils literal notranslate"><span class="pre">Settings</span></code> interface</p>
</dd>
<dt>Conforming</dt><dd><p>Exposing a common interface for disparate implementations to enable a unified user experience.</p>
</dd>
<dt>Extensible</dt><dd><p>Allowing new implementations to be added without modifying existing code</p>
</dd>
</dl>
<p>Programmatically, Algorithms are specified as abstract interfaces which can be specialized downstream through concrete implementations.
This allows QDK/Chemistry to be expressed as a <a class="reference internal" href="../plugins.html"><span class="doc">plugin architecture</span></a>, for which algorithm implementations may be specified either natively within QDK/Chemistry or through established third-party quantum chemistry packages:</p>
<div class="graphviz"><img src="../../../_images/graphviz-425f73d86fb873b40e9ee4489a05e57b826832b4.png" alt="digraph PluginArchitecture {
    rankdir=LR;
    bgcolor=&quot;#FAFAFA&quot;;
    node [shape=box, style=&quot;rounded,filled&quot;, fontname=&quot;Arial&quot;, margin=0.3];
    edge [color=&quot;#1976D2&quot;, penwidth=2];

    Interface [label=&quot;QDK/Chemistry Interface\n(ScfSolver, Localizer,\nMCCalculator, etc.)&quot;, fillcolor=&quot;#E3F2FD&quot;, color=&quot;#42A5F5&quot;, penwidth=2, fontcolor=&quot;#1976D2&quot;];
    QDK [label=&quot;QDK Implementation\n(AutoCAS, etc.)&quot;, fillcolor=&quot;#E0F2F1&quot;, color=&quot;#26A69A&quot;, penwidth=2, fontcolor=&quot;#00796B&quot;];
    ThirdParty [label=&quot;Third-Party Interfaces\n(PySCF, etc.)&quot;, fillcolor=&quot;#F3E5F5&quot;, color=&quot;#AB47BC&quot;, penwidth=2, fontcolor=&quot;#7B1FA2&quot;];

    Interface -&gt; QDK;
    Interface -&gt; ThirdParty;
}" class="graphviz" /></div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>This design allows users to benefit from specialized capabilities of “best-in-breed” software while maintaining a consistent user experience.
See the <a class="reference internal" href="../plugins.html"><span class="doc">Plugin System</span></a> documentation for further details on how to contribute new algorithm implementations.</p>
<p>Further details on the availability and usage of QDK/Chemistry’s algorithm implementations can be found in the <a class="reference internal" href="../algorithms/index.html"><span class="doc">Algorithms</span></a> documentation.</p>
</section>
</section>
<section id="factory-pattern">
<span id="hl-factory-pattertn"></span><h2>Factory pattern<a class="headerlink" href="#factory-pattern" title="Link to this heading"></a></h2>
<p>QDK/Chemistry’s <a class="reference internal" href="../plugins.html"><span class="doc">plugin architecture</span></a> leverages a <a class="reference internal" href="../algorithms/factory_pattern.html"><span class="doc">factory pattern</span></a> for algorithm creation:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--0-input--1" name="tab-set--0" type="radio" /><label class="tab-label" for="tab-set--0-input--1">C++ API</label><div class="tab-content docutils container">
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;qdk/chemistry.hpp&gt;</span>

<span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">qdk</span><span class="o">::</span><span class="nn">chemistry</span><span class="o">::</span><span class="nn">data</span><span class="p">;</span>
<span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">qdk</span><span class="o">::</span><span class="nn">chemistry</span><span class="o">::</span><span class="nn">algorithms</span><span class="p">;</span>

<span class="k">auto</span><span class="w"> </span><span class="n">scf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ScfSolverFactory</span><span class="o">::</span><span class="n">create</span><span class="p">();</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--0-input--2" name="tab-set--0" type="radio" /><label class="tab-label" for="tab-set--0-input--2">Python API</label><div class="tab-content docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">qdk_chemistry.algorithms</span><span class="w"> </span><span class="kn">import</span> <span class="n">create</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">qdk_chemistry.data</span><span class="w"> </span><span class="kn">import</span> <span class="n">Structure</span>

<span class="n">scf_solver</span> <span class="o">=</span> <span class="n">create</span><span class="p">(</span><span class="s2">&quot;scf_solver&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>This pattern allows:</p>
<ul class="simple">
<li><p>Extension of workflows by new Algorithm implementations without changing client code</p></li>
<li><p>Centralized management of dependencies and resources</p></li>
</ul>
<p>Read more on QDK/Chemistry’s usage of this pattern in the <a class="reference internal" href="../algorithms/factory_pattern.html"><span class="doc">Factory Pattern</span></a> documentation.</p>
</section>
<section id="runtime-configuration-with-settings">
<span id="hl-settings"></span><h2>Runtime configuration with settings<a class="headerlink" href="#runtime-configuration-with-settings" title="Link to this heading"></a></h2>
<p>Algorithm configuration is managed through instances of <a class="reference internal" href="../algorithms/settings.html"><span class="doc">Settings</span></a> objects, which contain a type-safe data store of configuration parameters consistent between the python and C++ APIs:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--1-input--1" name="tab-set--1" type="radio" /><label class="tab-label" for="tab-set--1-input--1">C++ API</label><div class="tab-content docutils container">
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Available settings: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">scf_solver</span><span class="p">.</span><span class="n">settings</span><span class="p">().</span><span class="n">get_summary</span><span class="p">()</span>
<span class="w">          </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="n">scf_solver</span><span class="o">-&gt;</span><span class="n">settings</span><span class="p">().</span><span class="n">set</span><span class="p">(</span><span class="s">&quot;max_iterations&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">);</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--1-input--2" name="tab-set--1" type="radio" /><label class="tab-label" for="tab-set--1-input--2">Python API</label><div class="tab-content docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Available settings: </span><span class="si">{</span><span class="n">scf_solver</span><span class="o">.</span><span class="n">settings</span><span class="p">()</span><span class="o">.</span><span class="n">get_summary</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">scf_solver</span><span class="o">.</span><span class="n">settings</span><span class="p">()</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;max_iterations&quot;</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Read more on how one can configure, discover, and extend instances of Settings objects in the
<a class="reference internal" href="../algorithms/settings.html"><span class="doc">Settings</span></a> documentation.</p>
</section>
<section id="a-complete-dataflow-example">
<span id="hl-dataflow-example"></span><h2>A complete dataflow example<a class="headerlink" href="#a-complete-dataflow-example" title="Link to this heading"></a></h2>
<p>A typical workflow in QDK/Chemistry demonstrates the data-algorithm separation:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--2-input--1" name="tab-set--2" type="radio" /><label class="tab-label" for="tab-set--2-input--1">C++ API</label><div class="tab-content docutils container">
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// Create molecular structure from an XYZ file</span>
<span class="w">  </span><span class="k">auto</span><span class="w"> </span><span class="n">molecule</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Structure</span><span class="o">::</span><span class="n">from_xyz_file</span><span class="p">(</span><span class="s">&quot;molecule.xyz&quot;</span><span class="p">);</span>

<span class="w">  </span><span class="c1">// Configure and run SCF calculation</span>
<span class="w">  </span><span class="k">auto</span><span class="w"> </span><span class="n">scf_solver</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ScfSolverFactory</span><span class="o">::</span><span class="n">create</span><span class="p">();</span>
<span class="w">  </span><span class="n">scf_solver</span><span class="o">-&gt;</span><span class="n">settings</span><span class="p">().</span><span class="n">set</span><span class="p">(</span><span class="s">&quot;basis_set&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;cc-pvdz&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="k">auto</span><span class="w"> </span><span class="p">[</span><span class="n">scf_energy</span><span class="p">,</span><span class="w"> </span><span class="n">wfn_hf</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">scf_solver</span><span class="o">-&gt;</span><span class="n">run</span><span class="p">(</span><span class="n">molecule</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>

<span class="w">  </span><span class="c1">// Select active space orbitals</span>
<span class="w">  </span><span class="k">auto</span><span class="w"> </span><span class="n">active_selector</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ActiveSpaceSelectorFactory</span><span class="o">::</span><span class="n">create</span><span class="p">(</span><span class="s">&quot;qdk_valence&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="n">active_selector</span><span class="o">-&gt;</span><span class="n">settings</span><span class="p">().</span><span class="n">set</span><span class="p">(</span><span class="s">&quot;num_active_orbitals&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">);</span>
<span class="w">  </span><span class="n">active_selector</span><span class="o">-&gt;</span><span class="n">settings</span><span class="p">().</span><span class="n">set</span><span class="p">(</span><span class="s">&quot;num_active_electrons&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">);</span>
<span class="w">  </span><span class="k">auto</span><span class="w"> </span><span class="n">active_wfn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">active_selector</span><span class="o">-&gt;</span><span class="n">run</span><span class="p">(</span><span class="n">wfn_hf</span><span class="p">);</span>
<span class="w">  </span><span class="k">auto</span><span class="w"> </span><span class="n">active_orbitals</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">active_wfn</span><span class="o">-&gt;</span><span class="n">get_orbitals</span><span class="p">();</span>

<span class="w">  </span><span class="c1">// Create Hamiltonian with active space</span>
<span class="w">  </span><span class="k">auto</span><span class="w"> </span><span class="n">ham_constructor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">HamiltonianConstructorFactory</span><span class="o">::</span><span class="n">create</span><span class="p">();</span>
<span class="w">  </span><span class="k">auto</span><span class="w"> </span><span class="n">hamiltonian</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ham_constructor</span><span class="o">-&gt;</span><span class="n">run</span><span class="p">(</span><span class="n">active_orbitals</span><span class="p">);</span>

<span class="w">  </span><span class="c1">// Run multi-configuration calculation</span>
<span class="w">  </span><span class="k">auto</span><span class="w"> </span><span class="n">mc_solver</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MultiConfigurationCalculatorFactory</span><span class="o">::</span><span class="n">create</span><span class="p">();</span>
<span class="w">  </span><span class="k">auto</span><span class="w"> </span><span class="p">[</span><span class="n">mc_energy</span><span class="p">,</span><span class="w"> </span><span class="n">wave_function</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mc_solver</span><span class="o">-&gt;</span><span class="n">run</span><span class="p">(</span><span class="n">hamiltonian</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--2-input--2" name="tab-set--2" type="radio" /><label class="tab-label" for="tab-set--2-input--2">Python API</label><div class="tab-content docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load a Structure from file (data classes in QDK/Chemistry are immutable by design)</span>
<span class="n">structure</span> <span class="o">=</span> <span class="n">Structure</span><span class="o">.</span><span class="n">from_xyz_file</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span> <span class="o">/</span> <span class="s2">&quot;../data/h2.structure.xyz&quot;</span><span class="p">)</span>

<span class="c1"># Configure and run SCF calculation</span>
<span class="n">scf_solver</span> <span class="o">=</span> <span class="n">create</span><span class="p">(</span><span class="s2">&quot;scf_solver&quot;</span><span class="p">)</span>
<span class="n">scf_energy</span><span class="p">,</span> <span class="n">scf_wavefunction</span> <span class="o">=</span> <span class="n">scf_solver</span><span class="o">.</span><span class="n">run</span><span class="p">(</span>
    <span class="n">structure</span><span class="p">,</span> <span class="n">charge</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">spin_multiplicity</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">basis_or_guess</span><span class="o">=</span><span class="s2">&quot;cc-pvdz&quot;</span>
<span class="p">)</span>

<span class="c1"># Select active space orbitals</span>
<span class="n">active_space_selector</span> <span class="o">=</span> <span class="n">create</span><span class="p">(</span>
    <span class="s2">&quot;active_space_selector&quot;</span><span class="p">,</span>
    <span class="n">algorithm_name</span><span class="o">=</span><span class="s2">&quot;qdk_valence&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">active_space_selector</span><span class="o">.</span><span class="n">settings</span><span class="p">()</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;num_active_orbitals&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">active_space_selector</span><span class="o">.</span><span class="n">settings</span><span class="p">()</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;num_active_electrons&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">active_wfn</span> <span class="o">=</span> <span class="n">active_space_selector</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">scf_wavefunction</span><span class="p">)</span>
<span class="n">active_orbitals</span> <span class="o">=</span> <span class="n">active_wfn</span><span class="o">.</span><span class="n">get_orbitals</span><span class="p">()</span>

<span class="c1"># Create Hamiltonian with active space</span>
<span class="n">ham_constructor</span> <span class="o">=</span> <span class="n">create</span><span class="p">(</span><span class="s2">&quot;hamiltonian_constructor&quot;</span><span class="p">)</span>
<span class="n">hamiltonian</span> <span class="o">=</span> <span class="n">ham_constructor</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">active_orbitals</span><span class="p">)</span>

<span class="n">mc</span> <span class="o">=</span> <span class="n">create</span><span class="p">(</span><span class="s2">&quot;multi_configuration_calculator&quot;</span><span class="p">)</span>
<span class="n">mc</span><span class="o">.</span><span class="n">settings</span><span class="p">()</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;davidson_iterations&quot;</span><span class="p">,</span> <span class="mi">300</span><span class="p">)</span>
<span class="n">E_cas</span><span class="p">,</span> <span class="n">wfn_cas</span> <span class="o">=</span> <span class="n">mc</span><span class="o">.</span><span class="n">run</span><span class="p">(</span>
    <span class="n">hamiltonian</span><span class="p">,</span> <span class="n">n_active_alpha_electrons</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">n_active_beta_electrons</span><span class="o">=</span><span class="mi">1</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="further-reading">
<h2>Further reading<a class="headerlink" href="#further-reading" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>The above examples can be downloaded as complete <a class="reference external" href="../../../_static/examples/cpp/design_principles.cpp">C++</a> and <a class="reference external" href="../../../_static/examples/python/design_principles.py">Python</a> scripts.</p></li>
<li><p><a class="reference internal" href="../algorithms/factory_pattern.html"><span class="doc">Factory Pattern</span></a>: Details on QDK/Chemistry’s implementation of the factory pattern</p></li>
<li><p><a class="reference internal" href="../algorithms/settings.html"><span class="doc">Settings</span></a>: How to configure the execution behavior of algorithms through the Settings interface</p></li>
<li><p><a class="reference internal" href="../plugins.html#plugin-system"><span class="std std-ref">Plugin system</span></a>: QDK/Chemistry’s plugin system for extending functionality</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../index.html" class="btn btn-neutral float-left" title="In-depth user guide" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../data/index.html" class="btn btn-neutral float-right" title="Data classes" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Microsoft Corporation. All rights reserved. Licensed under the MIT License.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>